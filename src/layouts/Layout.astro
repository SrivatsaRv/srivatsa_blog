---
import DashboardHeader from '../components/DashboardHeader.astro';
import Analytics from '../components/Analytics.astro';

interface Props {
	title: string;
	description?: string;
    transparent?: boolean;
}

const { title, description, transparent = false } = Astro.props;
---

<!doctype html>
<html lang="en" class="bg-hud-black scroll-smooth">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content={description || "Operational Log"} />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title} | Srivatsa RV</title>
        <Analytics />
	</head>
	<body class="min-h-screen text-hud-text font-sans antialiased selection:bg-hud-accent selection:text-white relative overflow-x-hidden">
		
        <!-- Background Grid Effect (Subtle Light) -->
        <div class="fixed inset-0 z-0 pointer-events-none opacity-[0.03] dark:opacity-[0.05]" 
             style="background-image: linear-gradient(#1C2127 1px, transparent 1px), linear-gradient(90deg, #1C2127 1px, transparent 1px); background-size: 40px 40px;">
        </div>

        <DashboardHeader />

        <!-- Main Content "Viewport" -->
		<main class={`relative z-10 ${transparent ? 'h-dvh overflow-hidden flex flex-col justify-center' : 'pt-24 pb-20 px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto min-h-screen border-l border-r border-hud-border bg-hud-dark/80 backdrop-blur-sm shadow-sm'}`}>
			<slot />
		</main>

        <!-- Footer -->
        {!transparent && (
            <footer class="py-8 text-center font-mono text-[10px] text-hud-muted tracking-widest uppercase">
                <span>Crafted with interest - 2026</span>
            </footer>
        )}

	</body>
</html>
